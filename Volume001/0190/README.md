# Eleven Puzzle

太郎君は8パズルが大得意で休み時間などにいつも友達に並び替えてもらって遊んでいます。そんなとき、友達から「もっと複雑なパズルは解ける?」と聞かれたのですが、他のパズルはやったことはありません。どうやらその友達は自作で11パズルを作っていたみたいです。そのパズルは以下のような形をしています。

![][1]

11パズルは11枚の正方形のカードと、図1のような形の枠を使って行います。最初に11枚のカードを枠に入れます。すると2カ所の空きスペースができますので、この空きスペースに隣接したカードを動かすことができます。これを繰り返し、カードをきれいに整列して、図2の完成型にすることが11パズルの目的です。

太郎君はこのパズルに挑戦することにしました。ところが太郎君はこの11パズルをいとも簡単に解いてしまいました。そこで友達は「動かす数を一番少なくして解いてよ!」と無茶なことを言ってきました。太郎君は答えがわからないので、プログラムのできるあなたに11パズルを解くときの最小ステップ数を出すプログラムを作成してもらってから挑戦することにしました。このとき、2カ所動かせるところがあるのですが、一つの数字を1スペース分移動させることを1ステップとして考えることとします。

11パズルの初期状態を入力とし、11パズルを解くときの最小ステップ数を出力するプログラムを作成してください。ただし、パズルを解くときの最小ステップ数が20ステップより多くかかってしまう場合は、「NA」と出力してください。パズルの状態は、一行目の情報から順に入力されるものとし、数字の0は空きスペースを表します。例えば、図1の状態を表す入力は以下のようになります。

    6
    2 1 3
    10 5 7 0 8
    9 4 11
    0

## Input

複数のデータセットの並びが入力として与えられます。入力の終わりは-1ひとつの行で示されます。 各データセットは以下のとおりです。

     1行目 パズルの1行目の情報 p1(整数)
     2行目 パズルの2行目の情報 p2 p3 p4(それぞれ整数;半角空白区切り)
     3行目 パズルの3行目の情報 p5 p6 p7 p8 p9(それぞれ整数;半角空白区切り)
     4行目 パズルの4行目の情報 p10 p11 p12(それぞれ整数;半角空白区切り)
     5行目 パズルの5行目の情報 p13(整数)

## Output

入力データセット毎に、入力で与えられたパズルを解くときの最小ステップ数またはNAを出力しま す。

## Sample Input

    2
    1 0 3
    4 5 6 7 8
    9 0 11
    10
    0
    1 2 3
    4 5 6 7 8
    9 10 11
    0
    0
    11 10 9
    8 7 6 5 4
    3 2 1
    0
    -1

## Output for the Sample Input

    2
    0
    NA

* * *

Source: PC Koshien 2008 , All-Japan High School Programming Contest, Aizu-Wakamatsu, Japan, 2008   
<http://www.pref.fukushima.jp/pc-concours/>

[1]: IMAGE1/elevenPuzzle.jpg
